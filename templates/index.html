{% extends "base.html" %}

{% block content %}

<h1 class="mb-4">Users</h1>

{% if users %}
    <ul class="list-group mb-4 user-list">
        {% for user in users %}
            <li class="list-group-item d-flex justify-content-between align-items-center user-entry">
                <span>{{ user.name }}</span>
                <a href="{{ url_for('get_movies', user_id=user.id) }}"
                   class="btn btn-sm btn-outline-primary"
                   aria-label="View movies for {{ user.name }}">
                    View movies
                </a>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="text-muted mb-4">No users yet. Add one below!</p>
{% endif %}

<h2 class="h4 mb-3">Add new user</h2>
<form action="{{ url_for('create_user') }}" method="post" class="row g-2 align-items-center">
    <div class="col-sm-8 col-md-6">
        <input type="text" name="name" class="form-control" placeholder="Enter user name" required>
    </div>
    <div class="col-auto">
        <button type="submit" class="btn btn-success">
            <i class="fa-solid fa-user-plus"></i> Add user
        </button>
    </div>
</form>

{% endblock %}
